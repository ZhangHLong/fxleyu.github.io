---
layout   : post
title    : "【译】Java安全概述"
date     : 2017-07-15 13:53:00
author   : fxleyu
tags:
    - Java
    - 安全
---
Java安全概述
> **注意** - 这篇文章是在Java1.5基础上书写的。

# 一、介绍
Java平台在安全上进行着重的设计。Java本身是类型安全的，它还提供了
自动垃圾收集，用于增强应用代码的稳健性。一个安全的类（class）加载
和认证机制确保仅有合法的Java代码可以被执行。    

最初的Java平台版本创建了一个安全的环境用于执行潜在不可信的代码，
例如在公共网络下载的Java applet。伴随着平台升级以及广泛的部署，
Java安全架构也相应的进化用于支持正在扩展的服务集合。现在，这个架
构包含了一个巨大的集合。集合中包含应用程序接口（APIs），工具；还
包含通用安全算法、机制和协议的实现。这个安全架构提供给开发者一个
综合的安全框架用于开发应用程序，它还提供给用户或管理员一套可以安
全管理应用的工具。    

Java安全APIs横跨广泛的应用区域。加密和公钥基础设施（PKI）的接口
为开发安全应用提供了潜在的基础。执行认证和访问控制的接口使应用程
序可以防范受保护资源的未授权访问。

这些APIs允许多个可操作的算法和其它安全服务的实现。服务使
用`providers`实现。`providers`通过标准接口嵌入到Java平台中。这
些标准接口可以使应用程序容易地获取安全服务，而无需关心他们具体的
实现。这些APIs允许开发者如何整合安全到他们的应用中，而不是如何实
现复杂的安全机制。

Java平台包含了一些供应商（provider），这些供应商实现了安全服务
的基础版。平台也允许安装额外的定制供应商。这可以使开发者在平台上
扩展新的安全机制。

这篇文章是Java平台安全的概述。其内容从语言安全特性到安全APIs、工具以及一些内置的组件。这些组件包含服务、显著的关键包和类。

# 二、Java的语言安全和字节码验证
Java语言被设计为类型安全和容易使用。它提供了自动内存管理、垃圾收集、以及数组的范围检查。这些措施降低了开发者的整体编程负担，从而促使更少的编程错误，更安全、更健壮的代码。

此外，Java语言定义了不同的访问修饰符。这些修饰符可以用来修饰Java
类、方法、以及成员变量。这使开发人员能够限制他们的类实现适当的访
问。具体来说，语言定义了四个不同的访问级别：`private`,
`protected`， `public`，如果未指定，`package`。最开放的访问修
饰符是 `public`，允许任何人访问。最限制性修饰语是`private`，私
有成员(一个方法或者成员变量)不允许类外访问。`protected`修饰符允
许任何子类,或者同一个包内的其它类访问。包级别访问只允许同一包内
的类访问。

编译器将Java程序翻译为一种独立于机器的字节码表示。被调用字节码验证器去确保只有合法的字节码才能在Java运行时中执行。它依照Java语言规范检查字节码，确保没违反Java语言规则或命名空间的限制。验证器也检查内存管理违规，栈下溢或溢出和非法数据类型转换。一旦字节码验证,Java运行时准备执行。

# 三、基础安全架构
Java平台定义了一个APIs集合。该集合包含主要的安全区域，其中又加密、PKI、认证、安全通信和访问控制。这些APIs允许开发者很容易把安全整合到应用代码种。这些APIs依据如下原则设计：
- 1、实现的独立性
> 应用无需实现安全组件。这些应用只需请求Java平台的安全服务即可。Providers实现这些安全服务。他们通过标准接口嵌入到Java平台中。为了安全功能，一个应用也许会依赖多个独立的providers。

- 2、实现的互用性
> 在应用之间，Providers具有互用性。特别地，一个应用不会绑定到一个特定的Provider，一个Provider也不会绑定到一个特定的应用。

- 3、可扩展的算法
> Java平台包含一些内置的Provider。这些Porvider实现了安全服务 基础内容。在今天，这些安全服务被广泛使用。但是，一些应用也许依赖新兴的标准，而不是依据被实现的。Java平台支持为实现这些服务而定制的Provider去安装。

## 3.1 安全Provider
在Java平台中，`java.security.Provider`类封装了安全Provider的概念。它指明Provider的名字，并列出被实现的安全服务。也许许多Provider被同时配置，并按特定偏好顺序被列出。当安全服务被请求，实现服务的高优先级的Provider被选择。


应用依赖相关的`getInstance`方法来获取来自潜在Provider的安全服务。举个例子，信息摘要的创建可以描述为Provider提供的一种类型的服务。（第四章讨论信息摘要和其它密码服务。）一个应用调用`java.security.MessageDigest`类的`getInstance`方法去获取一种特定的信息摘要算法的实现，例如MD5。
```java
MessageDigest md = MessageDigest.getInstance("MD5");
```
程序也许可以通过指定Provider名字来指定选择一种特定Provider的实现。
```java
MessageDigest md = MessageDigest.getInstance("MD5", "ProviderC");
```

## 3.2 文件位置
Java安全的某一方面可以使用设置安全属性来定制。这些方面在本文中被提及过，包含配置Provider。也许你静态的在安全属性文件中配置安全属性。安全属性文件默认是在被安装的Java运行环境（JRE）目录的 *lib/security* 目录下的 *java.security* 文件。安全属性可以通过调用`java.security.Security`类的适当方法来动态配置。

本文中提及的工具和命令均在`~jre/bin`目录下。`~jre`表示JRE的安装目录。第五章提及的`cacert`文件在`~jre/lib/security`目录下。
